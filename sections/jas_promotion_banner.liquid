{%- include 'style_mp_section' -%}
{%- if section.settings.section_bg_color != blank -%}
<style type="text/css">#shopify-section-{{section.id}} {background-color: {{section.settings.section_bg_color}}}</style>
{%- endif -%}
{%- case section.settings.categories_layout -%}
   {%- when 'default' -%}
      {%- assign layout = "categories-style-default" -%}
   {%- when 'masonry' -%}
      {%- assign  layout = "categories-style-masonry categories-masonry" -%}
   {%- when 'masonry_first' -%}
      {%- assign layout = "categories-style-masonry-first categories-masonry" -%}
   {%- when 'carousel' -%}
      {%- assign layout = "categories-style-carousel" -%}
{%- endcase -%}
<div class="jas_custom_{{section.id}} jas-promo-banner{%- if section.settings.use_container %} jas-container{%- else %} jas-full{%- endif -%}">
      {%- assign sett_title = section.settings.title -%}
      {%- assign sett_sub_title = section.settings.sub_title -%}
      {%- assign style_title = section.settings.style_title -%}
      {%- include 'jas_section_title',mg_class:"mb__40" -%}
      <div class="jas-row {{ layout }} categories-space-{{ section.settings.space_categories }}{%- if section.settings.categories_layout == 'carousel' %} jas-carousel{%- endif -%}"{%- if section.settings.categories_layout == 'carousel' %} data-slick='{"slidesToShow": {{ section.settings.sidetoshow }},"slidesToScroll": 1, "autoplay": {{ section.settings.use_autoplay }}, "autoplaySpeed": {{ section.settings.slider_speed }}000,"rtl": {{ settings.use_rtl }}, "speed": {{ section.settings.speed }}, "infinite": {{section.settings.use_loop}}, "arrows": {{section.settings.use_arrows}},"dots": {{section.settings.use_dots}}, "responsive":[{"breakpoint": 1024,"settings":{"slidesToShow": {{ section.settings.sidetoshow_first}} }},{"breakpoint": 600,"settings":{"slidesToShow": {{ section.settings.sidetoshow_center}} }},{"breakpoint": 480,"settings":{"slidesToShow": {{ section.settings.sidetoshow_last}} }}]}'{%- endif -%}>
         {%- if section.settings.categories_layout != 'carousel' %}<div class="jas-col-md-3 jas-item-category hide"></div>{%- endif -%}
        {%- for block in section.blocks -%}
         {%- assign block_image = block.settings.image -%}
         {%- assign block_url = block.settings.url -%}
         <div class="jas-col-md-{{block.settings.width}} jas-col-sm-{{block.settings.width}} {{ section.settings.categories_design }} jas-col-xs-{{block.settings.mobile_width}} jas-item-category" {{ block.shopify_attributes }}>
            <div class="jas-promotion oh pr {{block.settings.hover_effect}} {{block.settings.vertical_align}} {{block.settings.horizontal_align}}{%- if block_url != blank %} cursor-pointer{%- endif -%}"{%- if block_url != blank %} onclick="window.location.href='{{block_url}}'"{%- endif -%}>
               <div class="jas_banner_img">
                  {%- if block_image != blank -%}
                  {%- assign img_url = block_image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                  <img src="{{ block_image | img_url: '50x50' }}" data-src="{{ img_url }}" data-widths="[157, 270, 303, 370, 377, 670, 570, 720, 900, 1080, 1296, 1512, 1728, 2048]" data-aspectratio="{{ block_image.aspect_ratio }}"  data-sizes="auto" class="lazyload ts__05 w__100 attachment-shop_catalog size-shop_catalog" alt="{{block_image.alt}}" >
                  <div class="jas-wrap-lazy"></div>
                  {%- else -%}
                  <img src="https://placehold.it/700x500" alt="placehold" class="ts__05 w__100">
                 {%- endif -%}
               </div>
               <div class="pa">
                  {%- if block.settings.title != blank -%}
                    {%- assign text_1 = block.settings.title -%}
                    {%- assign font_1 = block.settings.font_1 -%}
                    {%- assign line_1 = block.settings.line_1 -%}
                    {%- assign color_1 = block.settings.color_1 -%}
                    {%- assign mb_1 = block.settings.mb_1 -%}
                    <h3 class="fwm fs__24 mg__0 mb__10 ls__1 lh__1"{%- if font_1 != blank or line_1 != blank or color_1 != blank or mb_1 != blank %} style="{%- if font_1 != blank -%}font-size:{{font_1}};{%- endif -%}{%- if color_1 != blank -%}color:{{color_1}};{%- endif -%}{%- if line_1 != blank -%}line-height: {{line_1}};{%- endif -%}{%- if mb_1 != blank -%}margin-bottom: {{mb_1}}{%- endif -%}"{%- endif -%}>{{text_1}}</h3>
                  {%- endif -%}
                  {%- if block.settings.text_2 != blank -%}
                    {%- assign text_2 = block.settings.text_2 -%}
                    {%- assign font_2 = block.settings.font_2 -%}
                    {%- assign line_2 = block.settings.line_2 -%}
                    {%- assign color_2 = block.settings.color_2 -%}
                    {%- assign mb_2 = block.settings.mb_2 -%}
                    <h4 class="mg__0 mb__10"{%- if font_2 != blank or line_2 != blank or color_2 != blank or mb_2 != blank %} style="{%- if font_2 != blank -%}font-size:{{font_2}};{%- endif -%}{%- if color_2 != blank -%}color:{{color_2}};{%- endif -%}{%- if line_2 != blank -%}line-height: {{line_2}};{%- endif -%}{%- if mb_2 != blank -%}margin-bottom: {{mb_2}}{%- endif -%}"{%- endif -%}>{{text_2}}</h4>
                  {%- endif -%}
                  {%- if block.settings.text_3 != blank -%}
                    {%- assign text_3 = block.settings.text_3 -%}
                    {%- assign font_3 = block.settings.font_3 -%}
                    {%- assign line_3 = block.settings.line_3 -%}
                    {%- assign color_3 = block.settings.color_3 -%}
                    {%- if block_url != blank and block.settings.make_button -%}
                      <h5 class="mg__0"><a href="{{block_url}}" class="button"{%- if font_3 != blank or line_3 != blank or color_3 != blank or mb_3 != blank %} style="{%- if font_3 != blank -%}font-size:{{font_3}};{%- endif -%}{%- if color_3 != blank -%}background-color:{{color_3}};{%- endif -%}{%- if line_3 != blank -%}line-height: {{line_3}}{%- endif -%}"{%- endif -%}>{{text_3}}</a></h5>
                    {%- else -%}
                      <h5 class="mg__0"{%- if font_3 != blank or line_3 != blank or color_3 != blank or mb_3 != blank %} style="{%- if font_3 != blank -%}font-size:{{font_3}};{%- endif -%}{%- if color_3 != blank -%}color:{{color_3}};{%- endif -%}{%- if line_3 != blank -%}line-height: {{line_3}}{%- endif -%}"{%- endif -%}>{{text_3}}</h5>                      
                    {%- endif -%}
                  {%- endif -%}
               </div>
            </div>
         </div>
         {%- endfor -%}
      </div>
   {%- if section.blocks.size == 0 -%}
    {%- include 'no-blocks' -%}
   {%- endif -%}
</div>

{% schema %}
  {
    "name": "Promotion Banner",
    "class": "jas-section type_jas_promotion_banner clearfix",
    "max_blocks": 30,
    "settings": [
      {
        "type": "header",
        "content": "== General Settings"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Title",
        "default": "Collection list"
      },
      {
        "type": "text",
        "id": "sub_title",
        "label": "Sub Title",
        "default": "Sub collection list"
      },
      {
        "type": "select",
        "id": "style_title",
        "options": [
         {
            "value": "1",
            "label": "Style 1"
         },
         {
            "value": "2",
            "label": "Style 2"
          }
        ],
        "label": "Style title"
      },
      {
        "type": "select",
        "id": "categories_layout",
        "options": [
            {
               "value": "default",
               "label": "Default"
             },
             {
               "value": "masonry",
               "label": "Masonry"
             },
             {
               "value": "masonry_first",
               "label": "Masonry (with first wide)"
             },
             {
               "value": "carousel",
               "label": "Carousel"
             }
           ],
           "label": "Layout",
           "default": "default"
         },
         {
           "type": "select",
           "id": "space_categories",
           "options": [
            {
               "value": "30",
               "label": "30"
             },
             {
               "value": "20",
               "label": "20"
             },
             {
               "value": "10",
               "label": "10"
             },
             {
               "value": "6",
               "label": "6"
             },
             {
               "value": "2",
               "label": "2"
             },
             {
               "value": "0",
               "label": "0"
             }
           ],
           "label": "Space between banner",
           "default": "30"
         },

      {
       "type": "header",
       "content": "== settings Slider ( Only for Carousel layout )"
      },
      {
        "type": "range",
        "id": "slider_speed",
        "min": 1,
        "max": 30,
        "step": 1,
        "label": "Autoplay Speed in milliseconds",
        "unit": "sec",
        "default": 6
      },
      {
        "type": "checkbox",
        "id": "use_autoplay",
        "label": "Use autoplay?",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "use_arrows",
        "label": "Use Arrows?",
        "default": true
      },
{
        "type": "checkbox",
        "id": "use_dots",
        "default": false,
        "label": "Use pagination control?"
      },
      {
        "type": "checkbox",
        "id": "use_loop",
        "label": "Use Infinite loop sliding?",
        "default": false
      },
      {
        "type": "range",
        "id": "speed",
        "min": 100,
        "max": 1000,
        "step": 100,
        "label": "Slide/Fade animation speed",
        "default": 300
      },
      {
        "type": "range",
        "id": "sidetoshow",
        "min": 1,
        "max": 12,
        "step": 1,
        "label": "slides To Show",
        "default": 4
      },
      {
       "type": "header",
       "content": "=== breakpoint: 1024"
      },
      {
        "type": "range",
        "id": "sidetoshow_first",
        "min": 1,
        "max": 10,
        "step": 1,
        "label": "slides To Show",
        "default": 3
      },
      {
       "type": "header",
       "content": "=== breakpoint: 600"
      },
      {
        "type": "range",
        "id": "sidetoshow_center",
        "min": 1,
        "max": 6,
        "step": 1,
        "label": "slides To Show",
        "default": 2
      },
      {
       "type": "header",
       "content": "=== breakpoint: 480"
      },
      {
        "type": "range",
        "id": "sidetoshow_last",
        "min": 1,
        "max": 6,
        "step": 1,
        "label": "slides To Show",
        "default": 2
      },
     {
        "type": "header",
        "content": "== Design Options"
      },
      {
        "type": "checkbox",
        "id": "use_container",
        "label": "Use container?",
        "default": true
      },
      {
        "type": "color",
        "id": "section_bg_color",
        "label": "Background color",
        "default": "#fff"
      },
      {
        "type": "text",
        "id": "section_margin_top",
        "label": "Margin top",
        "info": "60px"
      },
      {
        "type": "text",
        "id": "section_margin_bottom",
        "label": "Margin bottom",
        "info": "60px"
      },
      {
        "type": "text",
        "id": "section_margin_left",
        "label": "Margin left",
        "info": "60px"
      },
      {
        "type": "text",
        "id": "section_margin_right",
        "label": "Margin right",
        "info": "60px"
      },
      {
        "type": "text",
        "id": "section_padding_top",
        "label": "Padding top",
        "info": "60px"
      },
      {
        "type": "text",
        "id": "section_padding_right",
        "label": "Padding right",
        "info": "60px"
      },
      {
        "type": "text",
        "id": "section_padding_bottom",
        "label": "Padding bottom",
        "info": "60px"
      },
      {
        "type": "text",
        "id": "section_padding_left",
        "label": "Padding left",
        "info": "60px"
      }
    ],
    "blocks": [
      {
        "type": "promo_banner",
        "name": "Promotion Banner",
        "settings": [
          {
             "type": "image_picker",
             "id": "image",
             "label": "Image"
           },
           {
            "label": "Link to",
            "id": "url",
            "type": "url"
          },
          {
           "type": "select",
           "id": "hover_effect",
           "options": [
             {
               "value": "jas_zoom_img_banner",
               "label": "Zoom image"
             },
             {
               "value": "jas_border_img_banner",
               "label": "Bordered"
             },
             {
               "value": "jas_zoom_dark_img_banner",
               "label": "Zoom image dark"
             }
           ],
           "label": "Hover effect",
           "default": "jas_zoom_img_banner"
         },
          {
           "type": "select",
           "id": "vertical_align",
           "options": [
            {
               "value": "top",
               "label": "Top"
             },
             {
               "value": "middle",
               "label": "Middle"
             },
             {
               "value": "bottom",
               "label": "Bottom"
             }
           ],
           "label": "Text vertical align",
           "default": "middle"
          },
          {
           "type": "select",
           "id": "horizontal_align",
           "options": [
            {
               "value": "left",
               "label": "Left"
             },
             {
               "value": "center",
               "label": "Center"
             },
             {
               "value": "right",
               "label": "Right"
             }
           ],
           "label": "Text horizontal align",
           "default": "center"
          },
          {
           "type": "header",
           "content": "== Text 1:"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Text",
            "default": "SHOP FLOWERS"
          },
          {
            "type": "text",
            "id": "font_1",
            "label": "Font size (Defined in pixels.)",
           "placeholder": "24px"
          },
          {
            "type": "text",
            "id": "line_1",
            "label": "Line heigh (Defined in pixels.)",
            "placeholder": "14px"
          },
          {
            "type": "color",
            "id": "color_1",
            "label": "Select Color"
          },
          {
            "type": "text",
            "id": "mb_1",
            "label": "Margin bottom (Defined in pixels.)",
            "placeholder": "40px"
          },
          {
           "type": "header",
           "content": "== Text 2:"
          },
          {
            "type": "text",
            "id": "text_2",
            "label": "Text",
            "default": "VIEW COLLECTION"
          },
          {
            "type": "text",
            "id": "font_2",
            "label": "Font size (Defined in pixels.)",
           "placeholder": "24px"
          },
          {
            "type": "text",
            "id": "line_2",
            "label": "Line heigh (Defined in pixels.)",
            "placeholder": "14px"
          },
          {
            "type": "color",
            "id": "color_2",
            "label": "Select Color"
          },
          {
            "type": "text",
            "id": "mb_2",
            "label": "Margin bottom (Defined in pixels.)",
            "placeholder": "40px"
          },
          {
           "type": "header",
           "content": "== Text 3:"
          },
          {
            "type": "text",
            "id": "text_3",
            "label": "Text",
            "default": "BUTTON"
          },
          {
            "type": "text",
            "id": "font_3",
            "label": "Font size (Defined in pixels.)",
           "placeholder": "24px"
          },
          {
            "type": "text",
            "id": "line_3",
            "label": "Line heigh (Defined in pixels.)",
            "placeholder": "14px"
          },
          {
            "type": "color",
            "id": "color_3",
            "label": "Select Color"
          },
          {
            "type": "checkbox",
            "id": "make_button",
            "label": "Make it as button",
            "default": false
          },
          {
           "type": "header",
           "content": "not support for Carousel layout:"
          },
          {
           "type": "select",
           "id": "width",
           "options": [
            {
               "value": "3",
               "label": "25%"
             },
             {
               "value": "4",
               "label": "33.33333333%"
             },
             {
               "value": "6",
               "label": "50%"
             },
             {
               "value": "8",
               "label": "66.66666667%"
             },
             {
               "value": "12",
               "label": "100%"
             }
           ],
           "label": "== Select column width",
           "default": "3"
         },
         {
           "type": "select",
           "id": "mobile_width",
           "options": [
             {
               "value": "6",
               "label": "50%"
             },
             {
               "value": "12",
               "label": "100%"
             }
           ],
           "label": "== Select column mobile width",
           "default": "12"
         }
        ]
      }
    ],
    "presets": [
      {
        "name": "Promotion Banner",
        "category": "== Banner",
        "blocks": [
          {
            "type": "promo_banner"
          },
          {
            "type": "promo_banner"
          },
          {
            "type": "promo_banner"
          },
          {
            "type": "promo_banner"
          }
        ]
      }
    ]
  }
{% endschema %}
